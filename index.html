<head>
    <title>Etichette</title>
    <script>
        function fun() {  
            var text = document.getElementById("text").value
            var n = document.getElementById("n").value
            var imgurl = document.getElementById("logo").value
            var deft = "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Provincia_di_Perugia-Stemma.svg/1200px-Provincia_di_Perugia-Stemma.svg.png"
            if (imgurl == "") {
                var logo = "<img src=" + deft + ">"
            }
            else {
                var logo = "<img src=" + imgurl + ">"
            }
            var p = document.getElementById("p").value
            if (p == "") {
                p = 12
            }
            
            var data = [];
            for (let i = 1; i <= n; i++) {
                data.push(i + "<br>" + logo + "<br>" + text); // TODO: add logo
            }
            var table = "<table id=\"labtab\"><tr>";
            data.forEach((value, i) => {
                table += `<td>${value}</td>`; 
                var next = i + 1;
                if (next%3==0 && next!=data.length) { table += "</tr><tr>"; }
            });
        table += "</tr></table>";
 
        document.getElementById("body").innerHTML = table;
        document.getElementById("labtab").style.fontSize = p;
        }
    </script> 
    <style>
        @media screen, print {
            table {
                width: 100%;
                border-collapse: collapse;
            }
            td {
                text-align: center;
                height: 3.65cm;
            }
            img {
                max-height: 1.30cm;
            }
            body {
                font-family: "Times New Roman", Times, serif;     
                font-size: 12;
            }   
        }
    </style>
</head>

<body id="body">
    <label for="text">Testo:</label>
    <input type="text" id="text" name="text"><br><br>
    <label for="n">Numero etichette:</label>
    <input type="number" id="n" name="n"><br><br>
    <label for="logo">Logo (link):</label>
    <input type="text" id="logo" name="logo"><br><br>
    <label for="n">Dimensione font:</label>
    <input type="number" id="p" name="p"><br><br>
    <button onclick="fun()">Genera etichette</button>
</body>